#!/usr/bin/env python
from garage_door.garage_door_server import app
from garage_door.pi_funcs import setup_pins, cleanup_pins

#TODO: Dict format in the future?
import logging
logging.basicConfig(format='%(asctime)s %(message)s')

# config is specified by env variable APP_SETTINGS

if __name__ == '__main__':
    try:
        setup_pins()
        app.run(host='0.0.0.0', debug=True)
    finally:
        cleanup_pins()
